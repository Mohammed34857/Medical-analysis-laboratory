<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="CSS/dashbord.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <title>Dashboard</title>
</head>

<body>
    <div class="menu">
        <ul class="menu-ul">
            <li class="profile">
                <div class="img-box">
                    <img src="photo_2023-04-25_21-34-01.jpg" alt="profile">

                </div>
                <h2>mohammad</h2>
            </li>
            <li>
                <a class="active" href="#">
                    <i class="fas fa-home"></i>
                    <p>dashborde</p>
                </a>
            </li>
            <li>
                <a href="#" >
                  <button class="btn"  onclick=" toggle_show()" > <i class="fas fa-user-group" ></i></button>
                    <p>laboratory</p>
            
                </a>
            </li>
        
            <li>
                <a href="#">
                    <i class="fas fa-table"></i>
                    <p>Materials</p>
                </a>
            </li>
          

            <li>
                <a href="#">
                    <button class="btn"  id="login_bt" onclick="login_but()"><i class="fas fa-cog"></i></button>
                    <p>settings</p>
                </a>
            </li>
            <li class="log-out">
                <a href="laboratory.html">
                    <i class="fas fa-sign-out"></i>
                    <p>log-out</p>
                </a>
            </li>
        </ul>

    </div>

    <div class="content">
        <div class="title-info">
            <p>dashborde</p>
            <i class="fas fa-chart-bar"></i>


        </div>

        <div class="data-info">
            <div class="box">
                <i class="fas fa-user"></i>
                <div class="data">
                    <p>laboratory</p>
                    <span>100</span>
                </div>

            </div>
          
            <div class="box">
                <i class="fas fa-table"></i>
                <div class="data">
                    <p>Materials</p>
                    <span>100</span>
                </div>

            </div>
            <div class="box">
                <i class="fas fa-dollar"></i>
                <div class="data">
                    <p>revenue</p>
                    <span>$1225</span>
                </div>

            </div>
        </div>

        <div class="title-info">
            <p>Materials</p>
            <i class="fas fa-table"></i>


        </div>

        <table id="materialsTable">

           <thead >
            <tr>
                <th>product</th>
                <th>Production_Date</th>
                <th>Production_Date</th>
                <th>price</th>
                <th>count</th>
            </tr>
        </thead> 
        </table>

        <table >

            <thead >
             <tr>
                 <th>product</th>
                 <th>Production_Date</th>
                 <th>Production_Date</th>
                 <th>price</th>
                 <th>count</th>
                 <th>edit</th>
 
             </tr>
         </thead> 
         <tbody>
          <tr>
              <td><input type="text" id="product1" class="product" ></td>
              <td><input type="text" id="Production_Date1" class="Production_Date" ></td>
              <td><input type="text" id="Expiry_date1" class="Expiry_date" ></td>
              <td><input type="text" id="price1" class="price" ></td>
              <td><input type="text" id="Quantity1" class="Quantity" > </td>
              <td><i class="fas fa-pen"></i>
                    <button class="add">add</button>
          </tr>
          <tr>
            <td><input type="text" id="product2" class="product" ></td>
            <td><input type="text" id="Production_Date2" class="Production_Date" ></td>
            <td><input type="text" id="Expiry_date2" class="Expiry_date" ></td>
            <td><input type="text" id="price2" class="price" ></td>
            <td><input type="text" id="Quantity2" class="Quantity" > </td>
            <td>
                  <i class="fas fa-pen"></i>
                  <button class="edet">edet</button>
        </tr>
        <tr>
            <td><input type="text" id="product3" class="product" ></td>
            <td><input type="text" id="Production_Date3" class="Production_Date" ></td>
            <td><input type="text" id="Expiry_date3" class="Expiry_date" ></td>
            <td><input type="text" id="price3" class="price" ></td>
            <td><input type="text" id="Quantity3" class="Quantity" > </td>
            <td>
                  <i class="fas fa-trash"></i>
                  <button class="delet">delet</button></td>
        </tr>
          </tbody>
         </table>
    
    <table class="tt" id="tt"  >
        <thead>
         <tr>
             <th>name_laboratory</th>
             <th>name-manager</th>
             <th>phone</th>
             <th>Titel</th>
             <th>password</th>
             <th>edit</th>

         </tr>
        </thead> 
        <tbody>
         <tr>
             <td>مخبر كرزة</td>
             <td><span class="price">د.ريم كرزة</span> </td>
             <td><span class="count">8970451</span> </td>
             <td>حلب_الجميلية</td>
             <td>2d5d2eedhsj@@</td>
             <td><i class="fas fa-pen"></i>
                <button>edit</button>
                <i class="fas fa-trash"></i>
                <button class="delet">delet</button></td>
       
           
         </tr>
         <tr>
            <td>مخبر كرزة</td>
            <td><span class="price">د.ريم كرزة</span> </td>
            <td><span class="count">8970451</span> </td>
            <td>حلب_الجميلية</td>
            <td>2d5d2eedhsj@@</td>
            <td><i class="fas fa-pen"></i>
               <button>edit</button>
               <i class="fas fa-trash"></i>
               <button class="delet">delet</button></td>
      
          
        </tr>


         
      

        </tbody>
     </table>
     <div id="loginWindow" class="login">            
        <div class="login_form">
            <button id="close_bt"><i class="fa-solid fa-close" style="color: #00ccff;"></i></button>
        <h2 id="loginText">تعديل معلومات الحساب </h2>
        <form action method="post">
        <div class="input_group"><i class="fa-solid fa-user" style="color: #00ccff;"></i>
            <input 
            type="text"
            placeholder="الاسم القديم"
            class="input_text"
            autocomplete="off"
            id="username"
            >
        
        </div>
        <div class="input_group"><i class="fa-solid fa-user" style="color: #00ccff;"></i>
            <input 
            type="text"
            placeholder="الاسم الجديد"
            class="input_text"
            autocomplete="off"
            id="username"
            >
            </div>
        <div class="input_group"><i class="fa-solid fa-unlock" style="color: #00ccff;"></i>
            <input 
            type="password"
            placeholder="  كلمة المرور القديمة  "
            class="input_text"
            autocomplete="off"
            id="password"
            >
        </div>
        <div class="input_group"><i class="fa-solid fa-unlock" style="color: #00ccff;"></i>
            <input 
            type="password"
            placeholder="كلمة المرور الجديدة  "
            class="input_text"
            autocomplete="off"
            id="password"
            >
        </div>
        <button class="button_group" id="login_butt" type="button" onclick="dash()">تعديل</button>
     
       </form>
    </div>

              </div>





              
    <script>
        function toggle_show() {
         var content = document.getElementById("tt");
         content.classList.toggle("show");    
         }
         
         let login_but = function () {
        var loginButton = document.getElementById("login_bt");
        var loginWindow = document.getElementById("loginWindow");
        var loginWindowClose = document.getElementById("close_bt");
           loginButton.addEventListener("click", function() {
           loginWindow.style.visibility = "visible"; 
          });
        loginWindowClose.addEventListener("click", function() {
        loginWindow.style.visibility = "hidden"; 
        });
    }
    

    window.onload = function() {
  var table = document.getElementById('materialsTable');

     fetch('https://testbyad.adaptable.app/material') 
    .then(response => response.json())
    .then(data => {
      data.forEach(material => {
        var row = table.insertRow(-1);

        var productCell = row.insertCell(0);
        productCell.innerHTML = `<td> <span class="product"> ${material.name_Material}</span></td>`;

        var Production_DateCell = row.insertCell(1);
        Production_DateCell.innerHTML = `<td> <span class="Production_Date"> ${material.Production_Date}</span></td>`;

        var Expiry_dateCell = row.insertCell(2);
        Expiry_dateCell.innerHTML = `<td> <span class="Expiry_date"> ${material.Expiry_date}</span></td>`;

        var priceCell = row.insertCell(3);
        priceCell.innerHTML = `<td> <span class="price"> ${material.price}</span></td>`;

        var Quantitycall = row.insertCell(4);
        Quantitycall.innerHTML = `<td> <span class="count"> ${material.Quantity}</span></td>`;

        var actionsCell = row.insertCell(5);
        actionsCell.innerHTML = '';
      });

    })
    }
        
         document.getElementById("add").addEventListener("click", function (event) {
                event.preventDefault();
                const product1 = document.getElementById("product1").value;
                const Production_Date1 = document.getElementById("Production_Date1").value;
                const Expiry_date1 = document.getElementById("Expiry_date1").value;
                const price1 = document.getElementById("price1").value;
                const Quantity1 = document.getElementById("Quantity1").value;
                fetch(`https://testbyad.adaptable.app/material`, {
                    method: 'POST',
                    body: JSON.stringify({
                        
                    }),
                    headers: {
                        'Content-type': 'application/json; charset=UTF-8'
                    }
                })
                    .then((response) => response.json())
                    .then((json) => console.log(json));
                setTimeout(() => {
                    window.location.reload();
                }, 2000);
            });
            document.getElementById("edet").addEventListener("click", function (event) {
                event.preventDefault();
                const newname1 = document.getElementById("newname1").value;
                fetch(`https://testbyad.adaptable.app/laboratory/${lab_Id}`, {
                    method: 'PATCH',
                    body: JSON.stringify({
                        name_manager: newname1
                    }),
                    headers: {
                        'Content-type': 'application/json; charset=UTF-8'
                    }
                })
                    .then((response) => response.json())
                    .then((json) => console.log(json));
                setTimeout(() => {
                    window.location.reload();
                }, 2000);
            });
            document.getElementById("delet").addEventListener("click", function (event) {
                event.preventDefault();
                const newname1 = document.getElementById("newname1").value;
                fetch(`https://testbyad.adaptable.app/laboratory/${lab_Id}`, {
                    method: 'PATCH',
                    body: JSON.stringify({
                        name_manager: newname1
                    }),
                    headers: {
                        'Content-type': 'application/json; charset=UTF-8'
                    }
                })
                    .then((response) => response.json())
                    .then((json) => console.log(json));
                setTimeout(() => {
                    window.location.reload();
                }, 2000);
            });
    </script>

</body>

</html>